# Advanced Kubernetes

### Описание
   - Развернул собственный кластер k3s на трех виртуальных машинах, настроив мастер и рабочие узлы с использованием токенов подключения.
   - Установил и настроил Nginx Ingress Controller вместо стандартного Traefik, обеспечив маршрутизацию трафика.
   - Настроил cert-manager для генерации wildcard-сертификата для персонального домена и интегрировал его с Ingress ресурсами.
   - Создал Persistent Volume для PostgreSQL и развернул приложение с использованием Kubernetes манифестов.
   - Провел функциональное тестирование приложения через Postman, подтвердив стабильность работы.
   - Установил и настроил Prometheus Operator для мониторинга кластера и сбора метрик.

### Стек технологий: docker, kubernetes

Итоги выполненной работы в директории `src` с именем `REPORT.MD`.

## Part 1. Развертывание собственного кластера k3s

### Задание

1. Получить набор виртуальных машин для кластера.

2. Установить k3s на всех трех машинах. При установке не использовать стандартный Ingress Controller при помощи флага `--disable=traefik`.

3. Выполнить подключение узлов к кластеру, используя команду `k3s server` и флаги `--token` и `--server` для рабочих узлов и мастера соответственно. Когда k3s установлен, можно использовать переменную окружения `NODE_TOKEN`.

4. Установить Ingress Controller Nginx вместо стандартного. Ты можешь использовать официальный файл манифеста Ingress контроллера на базе Nginx, доступный на GitHub.

5. Получить доменное имя и сконфигурировать внутри кластера утилиту `cert-manager`, которая должна генерировать wildcard-сертификат для полученного домена.

6. Создать ресурс Ingress для своего личного домена и настроить его для использования контроллера nginx ingress и полученного сертификата.

7. Создать PV (Persistent Volume) для базы данных PostgreSQL в манифесте из десятого проекта.

8. Запустить приложение, описанное в манифесте.

9. Запустить функциональные тесты Postman и удостовериться в работоспособности приложения.

10. Установить и запустить Prometheus Operator для сбора метрик в системе. Продемонстрировать в отчете результат выполнения команды `kubectl get pods -n monitoring`.
